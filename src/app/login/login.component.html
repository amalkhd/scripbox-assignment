<div class="container-fluid h-100">
    <div class="row h-100 bg-grey">
        <div class="col-md-4 offset-md-4 d-flex align-items-center justify-content-center">
            <div class="login-box" *ngIf="isLogin">
                <h2>Log in</h2>
                <p>Enter you login credentials</p>
                <form (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <input name="customerId" [(ngModel)]="customerId" placeholder="Customer ID or Email address" type="text"
                            class="form-control">
                    </div>
                    <button class="btn btn-primary mt-4">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                        Submit</button>
                    <div class="d-flex justify-content-center">
                        <p *ngIf="isLogin" (click)="isLogin = !isLogin" class="mt-2 mb-0">Not registered yet?
                            <span class="create-link">Create
                                account</span>
                        </p>
                    </div>
                </form>
            </div>
            <div class="login-box account-created d-flex" *ngIf="account">
                <i class="material-icons-outlined">done</i>
                <h5>Congrats {{account.email}} Account created sucessfully</h5>
                <small>Please use your generated customer ID or registered email address to login</small>
              
                <h5 class="c-id">{{account.customerId}}</h5>
                <p class="create-link mt-2 mb-0" (click)="isLogin = true;account = false;">Goto Login</p>
            </div>
            <div class="login-box" *ngIf="!isLogin && !account">
                <h2>Get's started</h2>
                <p>Start creating an account.</p>
                <form [formGroup]="form" (ngSubmit)="createCustomer()">
                    <div class="form-group mb-2">
                        <input [class.is-invalid]="form.controls.email.invalid && form.controls.email.touched"
                            formControlName="email" type="email" class="form-control" placeholder="Email address">
                        <div class="invalid-feedback text-left"
                            *ngIf="form.controls.email.invalid && form.controls.email.touched">
                            Enter valid email address
                        </div>
                    </div>
                    <div class="form-group">
                        <input formControlName="fullName" type="text" class="form-control" placeholder="Full Name">
                    </div>
                    <button class="btn btn-primary mt-4">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                        
                        Create account</button>
                    <div class="d-flex justify-content-center">
                        <p *ngIf="!isLogin" (click)="isLogin = !isLogin" class="mt-2 mb-0">Already a customer ? <span
                                class="create-link">Login</span>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


